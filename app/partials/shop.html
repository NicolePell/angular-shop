<div class="row">
  <div class="col-sm-8 products">
    <div class="col-sm-6 col-md-4 products" ng-repeat="product in products | filter:search">
      <div class="thumbnail">
        <img class="product-image" src="{{product.imageUrl}}">
        <div class="caption">
          <h4>{{product.name}}</h4>
          <p>{{product.description}}</p>
          <p><strong>{{product.price | currency:'£'}}</strong></p>
          <p>{{product.category}}</p>
          <p>Stock left: {{product.quantity}}</p>
          <p>{{stockMessage}}</p>
          <p><a href ng-click="addItem($index)" class="btn btn-danger add-to-basket" role="button">Add to Basket</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4 basket">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title total">Your Basket | Total: {{getTotal() | currency:'£'}}</h3>
      </div>
      <div class="panel-body">
        <table class="table"  ng-repeat="item in basket track by $index">
          <tr>
            <td>{{item.name}} : {{item.price | currency:'£'}}</td>
            <td><a href ng-click="removeItem($index)" class="btn btn-danger btn-sm remove-from-basket" role="button">Remove</a></td>
          </tr>
        <table>
        <table class="table">
          <h4>Apply a voucher: </h4>
          <tr ng-repeat="voucher in vouchers">
            <td>
              <a href ng-click="applyVoucher(voucher)" class="btn btn-danger btn-sm discount-button" role="button">{{voucher.name}}</a>
            </td>
            <h5>{{voucherMessage}}</h5>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
